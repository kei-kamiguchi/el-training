<h1><%= t('view.index') %></h1>

<div class='sort'>
  <%= form_with model: Task.new, method: :get, local: true, url: tasks_path do |f| %>
    <%= f.label :title %>
    <%= f.text_field :title %>
    <%= f.label :status %>
    <%= f.select :status, [['未着手'], ['着手中'], ['完了']], {include_blank: '選択'} %>
    <%= f.hidden_field :search, value: 'true' %>
    <%= f.submit t('view.search') %>
  <% end %>
</div>

<%= link_to t('view.limit_sort'), tasks_path(sort_expired: "limit") %>
<%= link_to t('view.priority_sort'), tasks_path(sort_expired: "priority") %>

<% @tasks&.each do |task| %>
  <div class='task_row'>
    <%= link_to task.title, task_path(task), name: t('view.show') %>
  </div>
  <%= task.content %>
  <%= task.status %>
  <%= task.limit.strftime("%Y年%-m月%-d日 %a") %>
  <%= link_to t('view.delete'), task, method: :delete %>
  <%= link_to t('view.edit'), edit_task_path(task) %>
<% end %>
